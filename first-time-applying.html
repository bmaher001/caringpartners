<!DOCTYPE html>
<!--  First Time Volunteer Sign-up - CPI  -->
<html data-wf-page="694e715124a240785d603b7c" data-wf-site="68b1c10f3f32492f9e67d3f6">
<head>
  <meta charset="utf-8">
  <title>First Time Volunteer Sign-up - Caring Partners International</title>
  <meta content="Sign up to volunteer at Caring Partners International for the first time." name="description">
  <meta content="First Time Volunteer Sign-up - Caring Partners International" property="og:title">
  <meta content="First Time Volunteer Sign-up - Caring Partners International" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/caring-partners-international-1264c9.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Orelega One:regular:latin,latin-ext"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <link href="css/cpi-forms.css" rel="stylesheet" type="text/css">
</head>
<body>
  <div id="navbar-placeholder"></div>

  <!-- Header Section -->
  <section class="section header">
    <img sizes="(max-width: 1440px) 100vw, 1440px" srcset="images/slide-2-p-500.webp 500w, images/slide-2-p-800.webp 800w, images/slide-2-p-1080.webp 1080w, images/slide-2-p-1600.webp 1600w, images/slide-2-p-2000.webp 2000w, images/slide-2-p-2600.webp 2600w, images/slide-2.webp 3000w" alt="" src="images/slide-2.webp" loading="lazy" class="header-photo">
    <div class="w-layout-blockcontainer container header w-container">
      <h1 class="h1">First Time Volunteer Sign-up</h1>
      <p class="large">Join us in making a difference through volunteering!</p>
    </div>
  </section>

  <!-- Info Section -->
  <section class="section alt">
    <div class="w-layout-blockcontainer container w-container">
      <div class="text-align-center">
        <div class="max-width-large">
          <h3 class="h3 blue">Volunteer Hours</h3>
          <div class="medium"><strong>First Saturday of the Month:</strong> 10:00am - 12:00pm</div>
          <div class="medium"><strong>Third Tuesday of the Month:</strong> 6:30pm - 8:00pm</div>
          <div class="info-box warning" style="margin-top: 1.5rem; text-align: left;">
            <div class="info-box-icon">⚠️</div>
            <div class="info-box-content">
              <strong>Age Requirement:</strong> Due to the nature of the materials handled, open volunteering is limited to individuals <strong>12 years of age or older</strong>. If you are interested in bringing children under the age of 12, please email <a href="mailto:office@caringpartners.org" class="link">office@caringpartners.org</a> to discuss our age-appropriate volunteer opportunities.
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Form Section -->
  <section class="section">
    <div class="w-layout-blockcontainer container w-container">
      <div class="form-wizard">
        
        <!-- Wizard Progress -->
        <div class="wizard-progress">
          <div class="wizard-step-indicator active" data-step="1">
            <div class="step-circle">1</div>
            <span class="step-label">Your Info</span>
          </div>
          <div class="wizard-step-indicator" data-step="2">
            <div class="step-circle">2</div>
            <span class="step-label">Schedule</span>
          </div>
          <div class="wizard-step-indicator" data-step="3">
            <div class="step-circle">3</div>
            <span class="step-label">Review</span>
          </div>
        </div>

        <form id="volunteer-form">
          
          <!-- Step 1: Personal Information -->
          <div class="form-step active" data-step="1">
            <h3 class="form-section-title">Personal Information</h3>
            
            <div class="info-box">
              <div class="info-box-icon">ℹ️</div>
              <div class="info-box-content">
                <strong>Fields marked with * are required</strong>
              </div>
            </div>

            <div class="form-row">
              <div class="form_field-wrapper">
                <label class="form_field-label">First & Last Name <span class="required">*</span></label>
                <input type="text" name="full_name" id="full_name" class="form_input" placeholder="Enter your full name" required>
                <div class="error-message">Please enter your name</div>
              </div>
              <div class="form_field-wrapper">
                <label class="form_field-label">Email Address <span class="required">*</span></label>
                <input type="email" name="email" id="email" class="form_input" placeholder="Enter your email" required>
                <div class="error-message">Please enter a valid email</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form_field-wrapper">
                <label class="form_field-label">Phone Number <span class="required">*</span></label>
                <input type="tel" name="phone" id="phone" class="form_input" placeholder="(555) 555-5555" required>
                <div class="error-message">Please enter your phone number</div>
              </div>
              <div class="form_field-wrapper">
                <label class="form_field-label">Address <span class="required">*</span></label>
                <input type="text" name="address" id="address" class="form_input" placeholder="Enter your address" required>
                <div class="error-message">Please enter your address</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form_field-wrapper">
                <label class="form_field-label">Select an Age Range <span class="required">*</span></label>
                <select name="age_range" id="age_range" class="form_input" required>
                  <option value="">Select age range</option>
                  <option value="13-19">13-19</option>
                  <option value="20-29">20-29</option>
                  <option value="30-39">30-39</option>
                  <option value="40-49">40-49</option>
                  <option value="50-59">50-59</option>
                  <option value="60-69">60-69</option>
                  <option value="70-79">70-79</option>
                  <option value="80 or older">80 or older</option>
                </select>
                <div class="error-message">Please select an age range</div>
              </div>
              <div class="form_field-wrapper">
                <label class="form_field-label">Would you like to receive our monthly e-newsletter? <span class="required">*</span></label>
                <select name="newsletter" id="newsletter" class="form_input" required>
                  <option value="">Select an option</option>
                  <option value="Yes">Yes</option>
                  <option value="Not at this time">Not at this time</option>
                  <option value="Already receiving e-newsletter">Already receiving e-newsletter</option>
                </select>
                <div class="error-message">Please select an option</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form_field-wrapper">
                <label class="form_field-label">How did you hear about Caring Partners? <span class="required">*</span></label>
                <input type="text" name="how_heard" id="how_heard" class="form_input" placeholder="e.g., Church, Friend, Social Media" required>
                <div class="error-message">Please tell us how you heard about us</div>
              </div>
              <div class="form_field-wrapper">
                <label class="form_field-label">If you have a medical specialty, please list here</label>
                <input type="text" name="medical_specialty" id="medical_specialty" class="form_input" placeholder="Optional - e.g., Nurse, EMT, Doctor">
              </div>
            </div>

            <!-- Navigation -->
            <div class="wizard-buttons">
              <div></div>
              <button type="button" class="btn-wizard btn-next" onclick="nextStep()">Next: Schedule →</button>
            </div>
          </div>

          <!-- Step 2: Volunteer Schedule -->
          <div class="form-step" data-step="2">
            <h3 class="form-section-title">Volunteer Schedule</h3>

            <div class="form-row full-width">
              <div class="form_field-wrapper">
                <label class="form_field-label">How many people are in your group? <span class="required">*</span></label>
                <input type="text" name="group_size" id="group_size" class="form_input" placeholder="Enter number and names/emails if signing up a group" required>
                <div class="helper-text">If signing up a group, please provide the names and email addresses for each volunteer in your group.</div>
                <div class="error-message">Please enter the group size</div>
              </div>
            </div>

            <div class="form-row full-width">
              <div class="form_field-wrapper">
                <label class="form_field-label">Please select the date(s) you would like to volunteer <span class="required">*</span></label>
                <div class="helper-text" style="margin-bottom: 1rem;">
                  Click on a highlighted date to select it. You can select multiple dates.
                </div>
                
                <!-- Dynamic Calendar will be rendered here -->
                <div id="volunteer-calendar"></div>
              </div>
            </div>

            <!-- Navigation -->
            <div class="wizard-buttons">
              <button type="button" class="btn-wizard btn-prev" onclick="prevStep()">← Back</button>
              <button type="button" class="btn-wizard btn-next" onclick="nextStep()">Review Your Info →</button>
            </div>
          </div>

          <!-- Step 3: Review -->
          <div class="form-step" data-step="3">
            <h3 class="form-section-title">Review Your Information</h3>
            
            <div class="info-box">
              <div class="info-box-icon">✅</div>
              <div class="info-box-content">
                <strong>Please review your information carefully</strong>
                If everything looks correct, click "Submit". If you need to make changes, click "Edit Info".
              </div>
            </div>

            <div id="review-content">
              <!-- Will be populated by JavaScript -->
            </div>

            <!-- Navigation -->
            <div class="wizard-buttons">
              <button type="button" class="btn-wizard btn-prev" onclick="prevStep()">← Edit Info</button>
              <button type="submit" class="btn-wizard btn-submit" id="submit-btn">Submit Sign-up</button>
            </div>
          </div>

        </form>

        <!-- Success Message -->
        <div class="form-success" id="form-success">
          <div class="success-icon">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <h2 class="h2">Thank You for Signing Up!</h2>
          <p class="medium" style="margin-top: 1rem;">We're excited to have you volunteer with Caring Partners International. You will receive a confirmation email shortly with details about your volunteer session(s).</p>
          <p class="small" style="margin-top: 1rem; color: #666;">Please contact us at <a href="mailto:office@caringpartners.org" class="link">office@caringpartners.org</a> or <a href="tel:937-743-2744" class="link">(937) 743-2744</a> with any questions.</p>
          <div style="margin-top: 2rem;">
            <a href="get-involved.html" class="button w-button">Back to Volunteer Page</a>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Footer -->
  <div id="footer-placeholder"></div>

  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=68b1c10f3f32492f9e67d3f6" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <script src="js/components-loader.js"></script>
  <script src="js/volunteer-calendar.js" type="text/javascript"></script>
  
  <script>
    // Initialize Calendar
    let volunteerCalendar;
    document.addEventListener('DOMContentLoaded', function() {
      volunteerCalendar = new VolunteerCalendar('volunteer-calendar', {
        maxCapacity: 50,
        // TODO: Add Directus URL when ready
        // directusUrl: 'https://your-directus-url.com',
        // collectionName: 'volunteer_sessions'
      });
    });

    // Current step
    let currentStep = 1;
    const totalSteps = 3;

    // Update progress indicator
    function updateProgress() {
      document.querySelectorAll('.wizard-step-indicator').forEach((indicator, index) => {
        const stepNum = index + 1;
        indicator.classList.remove('active', 'completed');
        if (stepNum === currentStep) {
          indicator.classList.add('active');
        } else if (stepNum < currentStep) {
          indicator.classList.add('completed');
        }
      });
    }

    // Show specific step
    function showStep(step) {
      document.querySelectorAll('.form-step').forEach(s => s.classList.remove('active'));
      document.querySelector(`.form-step[data-step="${step}"]`).classList.add('active');
      updateProgress();
      window.scrollTo({ top: 300, behavior: 'smooth' });
    }

    // Validate current step
    function validateStep() {
      const stepElement = document.querySelector('.form-step.active');
      const currentStepNum = parseInt(stepElement.dataset.step);
      let isValid = true;

      // Validate required fields
      const requiredFields = stepElement.querySelectorAll('[required]');
      requiredFields.forEach(field => {
        const errorMsg = field.parentElement.querySelector('.error-message');
        if (!field.value.trim()) {
          field.classList.add('error');
          if (errorMsg) errorMsg.classList.add('visible');
          isValid = false;
        } else {
          field.classList.remove('error');
          if (errorMsg) errorMsg.classList.remove('visible');
        }
      });

      // Validate calendar on step 2
      if (currentStepNum === 2 && volunteerCalendar) {
        if (!volunteerCalendar.validate()) {
          isValid = false;
        }
      }

      return isValid;
    }

    // Generate review content
    function generateReview() {
      const getValue = (id) => document.getElementById(id)?.value || '-';
      
      // Get selected dates from calendar
      const selectedDates = volunteerCalendar ? volunteerCalendar.getSelectedDates() : [];

      let reviewHTML = `
        <div class="review-section">
          <h4 class="review-section-title">Personal Information</h4>
          <div class="review-grid">
            <div class="review-item">
              <span class="review-label">Full Name</span>
              <span class="review-value">${getValue('full_name')}</span>
            </div>
            <div class="review-item">
              <span class="review-label">Email</span>
              <span class="review-value">${getValue('email')}</span>
            </div>
            <div class="review-item">
              <span class="review-label">Phone</span>
              <span class="review-value">${getValue('phone')}</span>
            </div>
            <div class="review-item">
              <span class="review-label">Address</span>
              <span class="review-value">${getValue('address')}</span>
            </div>
            <div class="review-item">
              <span class="review-label">Age Range</span>
              <span class="review-value">${getValue('age_range')}</span>
            </div>
            <div class="review-item">
              <span class="review-label">Newsletter</span>
              <span class="review-value">${getValue('newsletter')}</span>
            </div>
            <div class="review-item">
              <span class="review-label">How Heard About Us</span>
              <span class="review-value">${getValue('how_heard')}</span>
            </div>
            ${getValue('medical_specialty') && getValue('medical_specialty') !== '-' ? `
            <div class="review-item full-width">
              <span class="review-label">Medical Specialty</span>
              <span class="review-value">${getValue('medical_specialty')}</span>
            </div>` : ''}
          </div>
        </div>

        <div class="review-section">
          <h4 class="review-section-title">Volunteer Schedule</h4>
          <div class="review-grid">
            <div class="review-item">
              <span class="review-label">Group Size</span>
              <span class="review-value">${getValue('group_size')}</span>
            </div>
            <div class="review-item full-width">
              <span class="review-label">Selected Dates</span>
              <span class="review-value">${selectedDates.length > 0 ? selectedDates.join('<br>') : 'None selected'}</span>
            </div>
          </div>
        </div>
      `;

      document.getElementById('review-content').innerHTML = reviewHTML;
    }

    // Next step
    function nextStep() {
      if (validateStep()) {
        if (currentStep < totalSteps) {
          currentStep++;
          if (currentStep === 3) {
            generateReview();
          }
          showStep(currentStep);
        }
      } else {
        const firstError = document.querySelector('.form_input.error, .error-message.visible');
        if (firstError) {
          firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      }
    }

    // Previous step
    function prevStep() {
      if (currentStep > 1) {
        currentStep--;
        showStep(currentStep);
      }
    }

    // Form submission
    document.getElementById('volunteer-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const submitBtn = document.getElementById('submit-btn');
      submitBtn.classList.add('btn-loading');
      submitBtn.disabled = true;

      // Collect form data
      const formData = new FormData(this);
      const data = Object.fromEntries(formData.entries());
      
      // Get selected dates from calendar
      data.volunteer_dates = volunteerCalendar ? volunteerCalendar.getSelectedDates() : [];

      try {
        // TODO: Replace with actual API endpoint
        await new Promise(resolve => setTimeout(resolve, 1500));
        
        // Hide form, show success
        this.style.display = 'none';
        document.querySelector('.wizard-progress').style.display = 'none';
        document.getElementById('form-success').classList.add('visible');
        
        window.scrollTo({ top: 300, behavior: 'smooth' });
        
        console.log('Form data:', data);
      } catch (error) {
        console.error('Submission error:', error);
        alert('There was an error submitting your sign-up. Please try again.');
      } finally {
        submitBtn.classList.remove('btn-loading');
        submitBtn.disabled = false;
      }
    });

    // Remove error styling on input
    document.querySelectorAll('.form_input').forEach(input => {
      input.addEventListener('input', function() {
        this.classList.remove('error');
        const errorMsg = this.parentElement.querySelector('.error-message');
        if (errorMsg) errorMsg.classList.remove('visible');
      });
    });
  </script>
</body>
</html>
