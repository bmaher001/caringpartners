<!DOCTYPE html>
<!--  Medical Kit Follow-up Report - CPI  -->
<html data-wf-page="medical-kit-followup" data-wf-site="68b1c10f3f32492f9e67d3f6">
<head>
  <meta charset="utf-8">
  <title>Medical Kit Follow-up Report - Caring Partners International</title>
  <meta content="Submit your Medical Kit Follow-up Report within 3 weeks after your Mission Trip." name="description">
  <meta content="Medical Kit Follow-up Report - Caring Partners International" property="og:title">
  <meta content="Medical Kit Follow-up Report - Caring Partners International" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/cpi-base.css" rel="stylesheet" type="text/css">
  <link href="css/cpi-styles.css" rel="stylesheet" type="text/css">
  <link href="css/cpi-components.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Orelega One:regular:latin,latin-ext"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <link href="css/cpi-forms.css" rel="stylesheet" type="text/css">
</head>
<body>
  <div id="navbar-placeholder"></div>
    </div>
  </div>

  <!-- Header Section -->
  <section class="section header">
    <img sizes="(max-width: 1440px) 100vw, 1440px" srcset="images/medical-kit-apply-p-500.webp 500w, images/medical-kit-apply-p-800.webp 800w, images/medical-kit-apply-p-1080.webp 1080w, images/medical-kit-apply.webp 1440w" alt="" src="images/medical-kit-apply.webp" loading="lazy" class="header-photo">
    <div class="w-layout-blockcontainer container header w-container">
      <h1 class="h1">Medical Kit Follow-up Report</h1>
      <p class="large">Share your mission experience and how the medical supplies made an impact.</p>
    </div>
  </section>

  <!-- Info Section -->
  <section class="section alt">
    <div class="w-layout-blockcontainer container w-container">
      <div class="text-align-center">
        <div class="max-width-large">
          <h3 class="h3 blue">Thank You for Your Service!</h3>
          <div class="medium">Please complete this report within <strong>THREE WEEKS</strong> after your Mission Trip.</div>
          <div class="small" style="margin-top: 1rem;">Your feedback helps us improve our Medical Kit program and share the impact of this ministry with our supporters and partners.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Form Section -->
  <section class="section">
    <div class="w-layout-blockcontainer container w-container">
      <div class="form-wizard">
        
        <!-- Wizard Progress -->
        <div class="wizard-progress">
          <div class="wizard-step-indicator active" data-step="1">
            <div class="step-circle">1</div>
            <span class="step-label">Report Info</span>
          </div>
          <div class="wizard-step-indicator" data-step="2">
            <div class="step-circle">2</div>
            <span class="step-label">Review</span>
          </div>
        </div>

        <form id="followup-report-form">
          
          <!-- Step 1: Report Information -->
          <div class="form-step active" data-step="1">
            
            <!-- Basic Information -->
            <h3 class="form-section-title">Basic Information</h3>
            
            <div class="info-box">
              <div class="info-box-icon">⚠️</div>
              <div class="info-box-content">
                <strong>Fields marked with * are required</strong>
                Please fill out all required fields before proceeding.
              </div>
            </div>

            <div class="form-row">
              <div class="form_field-wrapper">
                <label class="form_field-label">Today's Date <span class="required">*</span></label>
                <input type="date" name="todays_date" id="todays_date" class="form_input" required>
                <div class="error-message">Please select a date</div>
              </div>
              <div class="form_field-wrapper">
                <label class="form_field-label">Mission Pastor or Team Leader <span class="required">*</span></label>
                <input type="text" name="team_leader" id="team_leader" class="form_input" placeholder="Enter name" required>
                <div class="error-message">Please enter the team leader's name</div>
              </div>
            </div>

            <div class="form-row full-width">
              <div class="form_field-wrapper">
                <label class="form_field-label">Requesting Church's or Organization's Name <span class="required">*</span></label>
                <input type="text" name="organization_name" id="organization_name" class="form_input" placeholder="Enter church or organization name" required>
                <div class="error-message">Please enter the organization name</div>
              </div>
            </div>

            <!-- Mission Location -->
            <h3 class="form-section-title" style="margin-top: 2rem;">Mission Location</h3>
            
            <div class="form-row">
              <div class="form_field-wrapper">
                <label class="form_field-label">Country of Mission <span class="required">*</span></label>
                <input type="text" name="country" id="country" class="form_input" placeholder="e.g., Guatemala" required>
                <div class="error-message">Please enter the country</div>
              </div>
              <div class="form_field-wrapper">
                <label class="form_field-label">City/Province of Mission <span class="required">*</span></label>
                <input type="text" name="city_province" id="city_province" class="form_input" placeholder="e.g., Antigua" required>
                <div class="error-message">Please enter the city/province</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form_field-wrapper">
                <label class="form_field-label">Beginning Date of Mission <span class="required">*</span></label>
                <input type="date" name="start_date" id="start_date" class="form_input" required>
                <div class="error-message">Please select the start date</div>
              </div>
              <div class="form_field-wrapper">
                <label class="form_field-label">Ending Date of Mission <span class="required">*</span></label>
                <input type="date" name="end_date" id="end_date" class="form_input" required>
                <div class="error-message">Please select the end date</div>
              </div>
            </div>

            <!-- Impact Information -->
            <h3 class="form-section-title" style="margin-top: 2rem;">Impact Information</h3>
            
            <div class="form-row full-width">
              <div class="form_field-wrapper">
                <label class="form_field-label">How were the Medical Kit items used and/or distributed? <span class="required">*</span></label>
                <textarea name="items_usage" id="items_usage" class="form_input is-text-area" placeholder="Please describe how the medical supplies were used during your mission..." required></textarea>
                <div class="error-message">Please describe how the items were used</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form_field-wrapper">
                <label class="form_field-label">How many decisions for Christ? <span class="required">*</span></label>
                <input type="number" name="decisions_for_christ" id="decisions_for_christ" class="form_input" placeholder="Enter number" min="0" required>
                <div class="error-message">Please enter a number</div>
              </div>
            </div>

            <div class="form-row full-width">
              <div class="form_field-wrapper">
                <label class="form_field-label">Any special blessings to tell us about?</label>
                <textarea name="special_blessings" id="special_blessings" class="form_input is-text-area" placeholder="Share any stories, testimonies, or special moments from your mission trip..."></textarea>
              </div>
            </div>

            <!-- Customs Information -->
            <h3 class="form-section-title" style="margin-top: 2rem;">Customs Information</h3>
            
            <div class="form-row">
              <div class="form_field-wrapper">
                <label class="form_field-label">Did you have any problems with customs? <span class="required">*</span></label>
                <select name="customs_problems" id="customs_problems" class="form_input" required>
                  <option value="">Select an option</option>
                  <option value="No">No</option>
                  <option value="Yes">Yes</option>
                </select>
                <div class="error-message">Please select an option</div>
              </div>
            </div>

            <div class="conditional-field" id="customs-explanation">
              <div class="form_field-wrapper" style="margin-bottom: 0;">
                <label class="form_field-label">If "Yes", please explain:</label>
                <textarea name="customs_explanation" id="customs_explanation" class="form_input is-text-area" placeholder="Please describe the customs issues you encountered..."></textarea>
              </div>
            </div>

            <!-- Navigation -->
            <div class="wizard-buttons">
              <div></div>
              <button type="button" class="btn-wizard btn-next" onclick="nextStep()">Review Your Report →</button>
            </div>
          </div>

          <!-- Step 2: Review -->
          <div class="form-step" data-step="2">
            <h3 class="form-section-title">Review Your Report</h3>
            
            <div class="info-box">
              <div class="info-box-icon">✅</div>
              <div class="info-box-content">
                <strong>Please review your information carefully</strong>
                If everything looks correct, click "Submit Report". If you need to make changes, click "Edit Report".
              </div>
            </div>

            <div id="review-content">
              <!-- Will be populated by JavaScript -->
            </div>

            <!-- Navigation -->
            <div class="wizard-buttons">
              <button type="button" class="btn-wizard btn-prev" onclick="prevStep()">← Edit Report</button>
              <button type="submit" class="btn-wizard btn-submit" id="submit-btn">Submit Report</button>
            </div>
          </div>

        </form>

        <!-- Success Message -->
        <div class="form-success" id="form-success">
          <div class="success-icon">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <h2 class="h2">Report Submitted Successfully!</h2>
          <p class="medium" style="margin-top: 1rem;">Thank you for sharing your mission experience with us. Your feedback helps us continue to serve churches and missions around the world.</p>
          <p class="small" style="margin-top: 1rem; color: #666;">Glory to God for the impact made through your mission trip!</p>
          <div style="margin-top: 2rem;">
            <a href="medical-kit-program.html" class="button w-button">Back to Medical Kit Program</a>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Footer -->
  <div id="footer-placeholder"></div>

  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=68b1c10f3f32492f9e67d3f6" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/cpi-core.js" type="text/javascript"></script>
  <script src="js/cpi.js" type="text/javascript"></script>
  
  <script>
    // Current step
    let currentStep = 1;
    const totalSteps = 2;

    // Conditional field for customs problems
    const customsSelect = document.getElementById('customs_problems');
    const customsExplanation = document.getElementById('customs-explanation');
    
    customsSelect.addEventListener('change', function() {
      if (this.value === 'Yes') {
        customsExplanation.classList.add('visible');
      } else {
        customsExplanation.classList.remove('visible');
      }
    });

    // Update progress indicator
    function updateProgress() {
      document.querySelectorAll('.wizard-step-indicator').forEach((indicator, index) => {
        const stepNum = index + 1;
        indicator.classList.remove('active', 'completed');
        if (stepNum === currentStep) {
          indicator.classList.add('active');
        } else if (stepNum < currentStep) {
          indicator.classList.add('completed');
        }
      });
    }

    // Show specific step
    function showStep(step) {
      document.querySelectorAll('.form-step').forEach(s => s.classList.remove('active'));
      document.querySelector(`.form-step[data-step="${step}"]`).classList.add('active');
      updateProgress();
      window.scrollTo({ top: 300, behavior: 'smooth' });
    }

    // Validate current step
    function validateStep() {
      const stepElement = document.querySelector('.form-step.active');
      const requiredFields = stepElement.querySelectorAll('[required]');
      let isValid = true;

      requiredFields.forEach(field => {
        const errorMsg = field.parentElement.querySelector('.error-message');
        if (!field.value.trim()) {
          field.classList.add('error');
          if (errorMsg) errorMsg.classList.add('visible');
          isValid = false;
        } else {
          field.classList.remove('error');
          if (errorMsg) errorMsg.classList.remove('visible');
        }
      });

      return isValid;
    }

    // Format date for display
    function formatDate(dateStr) {
      if (!dateStr) return '-';
      const date = new Date(dateStr);
      return date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
    }

    // Generate review content
    function generateReview() {
      const getValue = (id) => document.getElementById(id)?.value || '-';
      
      let reviewHTML = `
        <div class="review-section">
          <h4 class="review-section-title">Basic Information</h4>
          <div class="review-grid">
            <div class="review-item">
              <span class="review-label">Today's Date</span>
              <span class="review-value">${formatDate(getValue('todays_date'))}</span>
            </div>
            <div class="review-item">
              <span class="review-label">Team Leader</span>
              <span class="review-value">${getValue('team_leader')}</span>
            </div>
            <div class="review-item full-width">
              <span class="review-label">Organization</span>
              <span class="review-value">${getValue('organization_name')}</span>
            </div>
          </div>
        </div>

        <div class="review-section">
          <h4 class="review-section-title">Mission Location</h4>
          <div class="review-grid">
            <div class="review-item">
              <span class="review-label">Country</span>
              <span class="review-value">${getValue('country')}</span>
            </div>
            <div class="review-item">
              <span class="review-label">City/Province</span>
              <span class="review-value">${getValue('city_province')}</span>
            </div>
            <div class="review-item">
              <span class="review-label">Start Date</span>
              <span class="review-value">${formatDate(getValue('start_date'))}</span>
            </div>
            <div class="review-item">
              <span class="review-label">End Date</span>
              <span class="review-value">${formatDate(getValue('end_date'))}</span>
            </div>
          </div>
        </div>

        <div class="review-section">
          <h4 class="review-section-title">Impact Information</h4>
          <div class="review-grid">
            <div class="review-item full-width">
              <span class="review-label">How items were used</span>
              <span class="review-value">${getValue('items_usage')}</span>
            </div>
            <div class="review-item">
              <span class="review-label">Decisions for Christ</span>
              <span class="review-value">${getValue('decisions_for_christ')}</span>
            </div>
            ${getValue('special_blessings') && getValue('special_blessings') !== '-' ? `
            <div class="review-item full-width">
              <span class="review-label">Special Blessings</span>
              <span class="review-value">${getValue('special_blessings')}</span>
            </div>` : ''}
          </div>
        </div>

        <div class="review-section">
          <h4 class="review-section-title">Customs Information</h4>
          <div class="review-grid">
            <div class="review-item">
              <span class="review-label">Problems with Customs</span>
              <span class="review-value">${getValue('customs_problems')}</span>
            </div>
            ${getValue('customs_problems') === 'Yes' && getValue('customs_explanation') ? `
            <div class="review-item full-width">
              <span class="review-label">Explanation</span>
              <span class="review-value">${getValue('customs_explanation')}</span>
            </div>` : ''}
          </div>
        </div>
      `;

      document.getElementById('review-content').innerHTML = reviewHTML;
    }

    // Next step
    function nextStep() {
      if (validateStep()) {
        if (currentStep < totalSteps) {
          currentStep++;
          if (currentStep === 2) {
            generateReview();
          }
          showStep(currentStep);
        }
      } else {
        const firstError = document.querySelector('.form_input.error');
        if (firstError) {
          firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      }
    }

    // Previous step
    function prevStep() {
      if (currentStep > 1) {
        currentStep--;
        showStep(currentStep);
      }
    }

    // Form submission
    document.getElementById('followup-report-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const submitBtn = document.getElementById('submit-btn');
      submitBtn.classList.add('btn-loading');
      submitBtn.disabled = true;

      const formData = new FormData(this);
      const data = Object.fromEntries(formData.entries());

      try {
        // TODO: Replace with actual API endpoint
        await new Promise(resolve => setTimeout(resolve, 1500));
        
        // Hide form, show success
        this.style.display = 'none';
        document.querySelector('.wizard-progress').style.display = 'none';
        document.getElementById('form-success').classList.add('visible');
        
        window.scrollTo({ top: 300, behavior: 'smooth' });
        
        console.log('Form data:', data);
      } catch (error) {
        console.error('Submission error:', error);
        alert('There was an error submitting your report. Please try again.');
      } finally {
        submitBtn.classList.remove('btn-loading');
        submitBtn.disabled = false;
      }
    });

    // Remove error styling on input
    document.querySelectorAll('.form_input').forEach(input => {
      input.addEventListener('input', function() {
        this.classList.remove('error');
        const errorMsg = this.parentElement.querySelector('.error-message');
        if (errorMsg) errorMsg.classList.remove('visible');
      });
    });
  </script>
</body>
</html>
